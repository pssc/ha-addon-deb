--- /usr/bin/abcde.orig	2019-02-05 09:57:06.000000000 +0000
+++ /usr/bin/abcde	2023-08-28 15:11:39.405875458 +0100
@@ -913,6 +913,7 @@
 					esac
 					run_command "tagtrack-$OUTPUT-$1" nice $ENCNICE $TAGGER $TAGGEROPTS \
 						-A "$DALBUM" \
+						-b "$DARTIST" \
 						-a "$TRACKARTIST" -t "$TRACKNAME" \
 						-G "$GENREID" -n "${TRACKNUM:-$1}" \
 						${TRACKNUM:+-N "$TRACKS"} \
--- /usr/bin/abcde.orig	2023-09-03 18:05:49.000000000 +0100
+++ /usr/bin/abcde	2023-09-03 21:53:37.057746923 +0100
@@ -913,8 +913,9 @@
 					esac
 					run_command "tagtrack-$OUTPUT-$1" nice $ENCNICE $TAGGER $TAGGEROPTS \
 						-A "$DALBUM" \
+						-b "$DARTIST" \
 						-a "$TRACKARTIST" -t "$TRACKNAME" \
-						-G "$GENREID" -n "${TRACKNUM:-$1}" \
+						-G "$CDGENRE" -n "${TRACKNUM:-$1}" \
 						${TRACKNUM:+-N "$TRACKS"} \
 						"${addopts[@]}" \
 						"${ABCDETEMPDIR}/track$1.$OUTPUT"
@@ -5176,14 +5177,9 @@
 
 				for X in $(f_seq_row 1 $NUM_CDDB_MATCHES)
 				do
-					ATITLE=$(grep -a -e '^DTITLE=' "${ABCDETEMPDIR}/cddbread.$X" | cut -c8- | tr -d \\r\\n)
 					SOURCE=$(cat "${ABCDETEMPDIR}/datasource.$X")
-					echo "#$X ($SOURCE): ---- ${ATITLE} ----" >> "${ABCDETEMPDIR}/cddbchoices"
-                    for TRACK in $(f_seq_row 1 $TRACKS)
-					do
-                        echo "$TRACK:" "$(grep -a ^TTITLE$(($TRACK - 1))= "${ABCDETEMPDIR}/cddbread.$X" | cut -f2- -d= | tr -d \\r\\n)" >> "${ABCDETEMPDIR}/cddbchoices"
-					done
-                    echo >> "${ABCDETEMPDIR}/cddbchoices"
+					echo -n "#$X ($SOURCE): " >> "${ABCDETEMPDIR}/cddbchoices"
+					do_cddbparse "${ABCDETEMPDIR}/cddbread.$X" >> "${ABCDETEMPDIR}/cddbchoices"
 				done
 			fi
 		fi
